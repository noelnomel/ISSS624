---
title: "In-Class Exercise 5: Spatial Econometric Interaction Models"
date: "16 December 2023"
date-modified: "last-modified"
format: html
execute: 
  echo: true # all code chunks will appear
  eval: true # all code chunks will run live
  warning: false # do not display warning message
editor: visual
---

# 1. Overview

This exercise is a continuation of in-class exercises 3 and 4.

# 2. Getting Started

Install development version of the `spflow` package:
```{r}
#| eval: false
devtools::install_github("LukeCe/spflow")
```

We will use the following R packages in this exercise:

-   `spflow` for spatial econometric interaction modelling

```{r}
pacman::p_load(spflow, tmap, sf, spdep, sp,
               Matrix, reshape2, tidyverse, readr)
```

# 3. The Data

Three datasets are required before Spatial Econometric Interaction Models can be calibrated:
1. spatial weights
2. tibble data.frame with origin, destination, flows and distances between origin and destination
3. tibble data.frame with explanatory variables

We will load the datasets into the R environment using the following codes:

```{r}
mpsz_nb <- read_rds("data/rds/mpsz_nb.rds")
```

```{r}
od_data <- read_rds("data/rds/od_data.rds")
```

```{r}
odbus6_9 <- read_rds("data/rds/odbus6_9.rds")
```
::: {.callout-note}
#### Learn from the above







